<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>Мийки цистерн – Карта</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    html, body { margin:0; padding:0; height:100%; font-family:'Roboto',sans-serif; background:#f8f9fa; overflow:hidden;}
    #map { width:100%; height:100%; }
    .author { position:fixed; bottom:5px; left:50%; transform:translateX(-50%); font-size:12px; color:red; background:rgba(255,255,255,0.7); padding:3px 6px; border-radius:4px; font-weight:bold; z-index:1001; text-align:center; }
  </style>
</head>
<body>
<div id="map"></div>
<div class="author">© 2025 | Автор: Андрій Мочурад</div>

<script>
  let map;
  let userMarker;

  // Готові точки мийок
  const stations = [
    { name: "Мийка Львів", lat: 49.8397, lng: 24.0297 },
    { name: "Мийка Київ", lat: 50.4501, lng: 30.5234 },
    { name: "Мийка Харків", lat: 50.0041, lng: 36.2319 },
    { name: "Мийка Одеса", lat: 46.4825, lng: 30.7233 }
  ];

  function initMap(lat, lng) {
    const pos = { lat: lat, lng: lng };
    map = new google.maps.Map(document.getElementById("map"), {
      center: pos,
      zoom: 6
    });

    // Маркер користувача
    userMarker = new google.maps.Marker({
      position: pos,
      map: map,
      title: "Ви тут",
      icon: "http://maps.google.com/mapfiles/ms/icons/blue-dot.png"
    });

    // Маркери мийок
    stations.forEach(station => {
      new google.maps.Marker({
        position: { lat: station.lat, lng: station.lng },
        map: map,
        title: station.name,
        icon: "http://maps.google.com/mapfiles/ms/icons/orange-dot.png"
      });
    });
  }

  // Автоматичне визначення місця користувача
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(
      (position) => { initMap(position.coords.latitude, position.coords.longitude); },
      () => { initMap(49.0, 32.0); alert("Не вдалося визначити ваше місцезнаходження."); }
    );
  } else {
    initMap(49.0, 32.0);
    alert("Ваш браузер не підтримує геолокацію.");
  }
</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCMnpdpKhzsNHe0y2lyf_WBF0g1gU9eTg8"></script>
</body>
</html>
